"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NavBaseObj(e){var t=this;this.element=e,this.setRole=function(e){return t._setRole(t,e)}}function Navbar(e,t){var n=this;NavBaseObj.call(this,e),this.getNavItems=function(){return n._getNavItems(n)},this.getPreviousNavItem=function(e){return n._getNextNavItem(n,e,-1)},this.getNextNavItem=function(e){return n._getNextNavItem(n,e,1)},this.setOffset=function(){return n._setOffset(n)};var a=e.classList.contains("navbar-vertical"),r=e.classList.contains("dropup"),i=e.classList.contains("extended-child-navbar");this.options={autoCollapse:!0,direction:a?"vertical":"horizontal",dropup:r,extendedChildNavbar:i},this.isVerticalNavbar="vertical"===this.options.direction,this.isDropUp=this.options.dropup,this.isExtendedChildNavbar=this.options.extendedChildNavbar,this.childNavItems=this.getNavItems(),this.parentNavItem=t,this.parentNavItem?(this.setRole("menu"),this.parentNavItem.element.classList.add("nav-item-haschild"),this.isDropUp&&this.parentNavItem.element.classList.add("nav-item-haschild-up")):this.setRole("menubar")}function MobileNavbar(e,t,n,a){var r=this;Navbar.call(this,e,t),this.containerElement=n,this.toggleElement=a,this.openMenu=function(){return r._openMobileMenu(r)},this.closeMenu=function(){return r._closeMobileMenu(r)},this.clickEvent=function(e){e.preventDefault(),0===r.element.offsetHeight?r.openMenu():r.closeMenu(),e.stopPropagation()},this._setToggleElement(this)}function NavItem(e,t){var n=this;if(NavBaseObj.call(this,e),this.focus=function(){return n._focus(n)},this.getChildNavbar=function(){return n._getChildNavbar(n)},this.getLinkElement=function(){return n._getLinkElement(n)},this.open=function(){return n._open(n)},this.openChild=function(){return n._open(n.childNavbar)},this.close=function(){return n._close(n)},this.closeChild=function(){return n._close(n.childNavbar)},this.linkElement=this.getLinkElement(),this.parentNavbar=t,this.childNavbar=this.getChildNavbar(),this.closeTimeout=200,this.closeTimeoutObj,this.leftNeighbor=function(){var e;if(n.parentNavbar.isVerticalNavbar){if(n._parentNavItem(n)){var t=n._parentNavItem(n);e=t.parentNavbar.getPreviousNavItem(t)||t}}else e=n._previousNavItem(n);return e},this.rightNeighbor=function(){var e;if(n.parentNavbar.isVerticalNavbar){if(n._parentNavItem(n)){var t=n._parentNavItem(n);e=t.parentNavbar.getNextNavItem(t)||t}}else e=n._nextNavItem(n);return e},this.downNeighbor=function(){return n.parentNavbar.isVerticalNavbar?n.parentNavbar.isDropUp?n._nextNavItem(n)||n._parentNavItem:n._nextNavItem(n):n._firstChildNavItem(n)},this.upNeighbor=function(){var e;return n.parentNavbar.isVerticalNavbar?e=n.parentNavbar.isDropUp?n._previousNavItem(n):n._previousNavItem(n)||n._parentNavItem:n.parentNavbar.isExtendedChildNavbar&&!n.parentNavbar.isDropUp&&(e=n._parentNavItem(n)),e},this.focusInListener=function(e){n.parentNavbar.options.autoCollapse&&n._focusInEvent(e,n)},this.mouseInListener=function(e){return n._focusInEvent(e,n)},this.focusOutListener=function(e){return n._focusOutEvent(e,n)},this.keysListener=function(e){n._arrowKeysHandler(e,n)},this._setEventListeners(this),this.setRole("presentation"),this.linkElement&&this.linkElement.setAttribute("role","menuitem"),this.childNavbar&&this.linkElement){this.linkElement.setAttribute("aria-haspopup",!0);var a=this.linkElement.getAttribute("id");a||(a="parentLink_"+Math.random().toString(36).substr(2,10),this.linkElement.setAttribute("id",a)),this.childNavbar.element.setAttribute("aria-labelledby",a),this.linkElement.setAttribute("aria-expanded",!1)}}function MobileNavItem(e,t){NavItem.call(this,e,t)}if(window.NDSU={},!NDSU.fullOverlayElement){var fullOverlay=document.createElement("div");fullOverlay.className="full-overlay",fullOverlay.setAttribute("role","presentation"),fullOverlay.addEventListener("click",function(e){0!==fullOverlay.offsetHeight&&NDSU.hideOverlay()}),NDSU.fullOverlayElement=fullOverlay,document.body.appendChild(NDSU.fullOverlayElement)}NDSU.showOverlay=function(){NDSU.fullOverlayElement.classList.add("active"),document.body.style.overflow="hidden"},NDSU.hideOverlay=function(){NDSU.fullOverlayElement.classList.remove("active"),document.body.style.overflow=""},NavBaseObj.prototype._setRole=function(e,t){e.element.setAttribute("role",t)},Navbar.prototype=Object.create(NavBaseObj.prototype),Navbar.prototype.constructor=Navbar,Navbar.prototype._getNavItems=function(e){return Array.from(e.element.children).filter(function(e){return e.classList.contains("nav-item")}).map(function(t){return new NavItem(t,e)})},Navbar.prototype._setOffset=function(e){if(e.parentNavItem){var t=e.parentNavItem.element,n=window.getComputedStyle(t),a=t.offsetHeight;if(e.isDropUp?(a+=parseInt(n.marginTop),e.element.style.bottom=a+"px"):(a+=parseInt(n.marginBottom),e.element.style.top=a+"px"),e.isExtendedChildNavbar){var r=e.parentNavItem.parentNavbar;if(r&&r.element){t.offsetLeft;i=r.element.offsetWidth;e.element.style.left=-t.offsetLeft+"px",e.element.style.minWidth=i+"px"}}else{var i=t.offsetWidth;e.element.style.minWidth=i+"px"}}},Navbar.prototype._getNextNavItem=function(e,t,n){var a=Array.prototype.indexOf.call(e.childNavItems,t);if(-1!==a){var r=a+n;return r<e.childNavItems.length?e.childNavItems[r]:void 0}},MobileNavbar.prototype=Object.create(Navbar.prototype),MobileNavbar.prototype.constructor=MobileNavbar,MobileNavbar.prototype._setToggleElement=function(e){e.toggleElement&&(e.toggleElement.setAttribute("aria-haspopup",!0),e.toggleElement.setAttribute("aria-expanded",!1),e.toggleElement.addEventListener("click",e.clickEvent),NDSU.fullOverlayElement.addEventListener("click",e.closeMenu))},MobileNavbar.prototype._getNavItems=function(e){return Array.from(e.element.children).filter(function(e){return e.classList.contains("nav-item")}).map(function(t){return new MobileNavItem(t,e)})},MobileNavbar.prototype._setOffset=function(e){if(e.containerElement){var t=e.containerElement,n=window.getComputedStyle(t),a=t.offsetHeight,r=window.innerHeight;e.element.style.maxHeight=r-a+"px",e.isDropUp?(a+=parseInt(n.marginTop),e.element.style.bottom=a+"px"):(a+=parseInt(n.marginBottom),e.element.style.top=a+"px")}},MobileNavbar.prototype._openMobileMenu=function(e){NDSU.showOverlay(),e.element.classList.add("active"),e.toggleElement.setAttribute("aria-expanded",!0),e.setOffset()},MobileNavbar.prototype._closeMobileMenu=function(e){e.element.classList.remove("active"),e.toggleElement.setAttribute("aria-expanded",!1),NDSU.hideOverlay()},NavItem.prototype=Object.create(NavBaseObj.prototype),NavItem.prototype.constructor=NavItem,NavItem.prototype._setEventListeners=function(e){e.parentNavbar.isExtendedChildNavbar||(e.element.addEventListener("focusin",e.focusInListener),e.element.addEventListener("focusout",e.focusOutListener),e.element.addEventListener("mouseenter",e.mouseInListener),e.element.addEventListener("mouseleave",e.focusOutListener)),e.element.addEventListener("keydown",e.keysListener)},NavItem.prototype._getChildNavbar=function(e){var t=e.element.querySelector(".child-navbar");return t?new Navbar(t,e):void 0},NavItem.prototype._getLinkElement=function(e){return Array.prototype.filter.call(e.element.children,function(e){return e.classList.contains("nav-link")})[0]},NavItem.prototype._focus=function(e){e.linkElement?e.linkElement.focus():e.childNavbar&&e.childNavbar.childNavItems.length&&e.childNavbar.childNavItems[0].focus()},NavItem.prototype._open=function(e){e&&e.element&&(e.setOffset(),e.element.classList.add("active"),e.parentNavItem&&e.parentNavItem.linkElement.setAttribute("aria-expanded",!0))},NavItem.prototype._close=function(e){e&&e.element&&(e.element.classList.remove("active"),e.parentNavItem&&e.parentNavItem.linkElement.setAttribute("aria-expanded",!1))},NavItem.prototype._focusInEvent=function(e,t){t.openChild(),t.closeTimeoutObj&&clearTimeout(t.closeTimeoutObj)},NavItem.prototype._focusOutEvent=function(e,t){t.closeTimeoutObj=setTimeout(function(){t.closeChild()},t.closeTimeout)},NavItem.prototype._previousNavItem=function(e){return e.parentNavbar.getPreviousNavItem(e)||e.parentNavbar.parentNavItem},NavItem.prototype._nextNavItem=function(e){return e.parentNavbar.getNextNavItem(e)},NavItem.prototype._parentNavItem=function(e){return e.parentNavbar.parentNavItem},NavItem.prototype._firstChildNavItem=function(e){if(e.childNavbar)return e.childNavbar.childNavItems[0]},NavItem.prototype._arrowKeysHandler=function(e,t){e.stopPropagation();var n;37===e.which?n=t.leftNeighbor():38===e.which?n=t.upNeighbor():39===e.which?n=t.rightNeighbor():40===e.which&&(n=t.downNeighbor()),n&&(e.preventDefault(),n.focus())},MobileNavItem.prototype=Object.create(NavItem.prototype),MobileNavItem.prototype.constructor=MobileNavItem,MobileNavItem.prototype._getChildNavbar=function(e){var t=e.element.querySelector(".child-navbar");return t?new MobileNavbar(t,e):void 0},MobileNavItem.prototype._getLinkElement=function(e){var t=Array.prototype.filter.call(e.element.children,function(e){return e.classList.contains("nav-link")})[0];if(t)return t;var n=e.element.querySelector(".child-section-title");if(!n)return t;var a=n.innerText;return(t=document.createElement("a")).href="#",t.innerText=a,t.className="nav-link",e.element.insertBefore(t,e.element.firstChild),t},MobileNavItem.prototype._setEventListeners=function(e){e.linkElement.addEventListener("click",function(t){var n=e.childNavbar;n&&(0===n.element.offsetHeight?(n.element.classList.add("active"),e.linkElement.classList.add("active"),e.linkElement.setAttribute("aria-expanded",!0)):(n.element.classList.remove("active"),e.linkElement.classList.remove("active"),e.linkElement.setAttribute("aria-expanded",!1)),t.preventDefault())})},NDSU.mobileNavbars=Array.prototype.map.call(document.querySelectorAll(".navbar-mobile-container"),function(e){var t=e.querySelector(".navbar-mobile:not(.child-navbar)"),n=e.querySelector(".navbar-toggle");return t&&n&&n.classList.contains("navbar-toggle")?(Array.prototype.forEach.call(document.querySelectorAll(".navbar-mobilize:not(.child-navbar):not(.navbar-mobile)"),function(e){Array.from(e.children).filter(function(e){return e.classList.contains("nav-item")&&!e.classList.contains("nav-item-mobile-hide")}).forEach(function(e){t.appendChild(e.cloneNode(!0))})}),new MobileNavbar(t,null,e,n)):0}),NDSU.navbars=Array.prototype.map.call(document.querySelectorAll(".navbar:not(.child-navbar):not(.navbar-mobile)"),function(e){return new Navbar(e)});var StickyBar=function e(t){var n=this;_classCallCheck(this,e),this.element=t,this.offsetTop=this.element.offsetTop,window.addEventListener("scroll",function(e){(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)>n.offsetTop?n.element.classList.add("sticky-bar-on"):n.element.classList.remove("sticky-bar-on")})};NDSU.stickyBars=Array.prototype.map.call(document.querySelectorAll(".sticky-bar"),function(e){return new StickyBar(e)});