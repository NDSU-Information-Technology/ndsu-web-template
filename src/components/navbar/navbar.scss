.navbar {
	position: relative;
	display: flex;
	flex-wrap: wrap;
	flex-direction: row;
	list-style: none;
	margin: 0;
	z-index:$z-index-menu;
	align-items: center;
	text-align: center;
	justify-content: center;

	.nav-item{
		flex: 0 0 auto;
		white-space: nowrap;
		position: relative;
	}

	.nav-link{
		@include linkUnderline(-1);
		@include buttonify(true);
	}

	&.navbar-horizontal {
		flex-direction: row;
		align-items: center;
		.nav-link {
			text-align: center;
		}
	}
	&.navbar-vertical {
		flex-direction: column;
		align-items: stretch;
		.nav-link {
			text-align: left;
		}
	}

	&.navbar-center {
		justify-content: center;
		.nav-item{
			flex-grow: 0;
		}
		.nav-link {
			text-align: center;
		}
	}
	&.navbar-left {
		justify-content: flex-start;
		.nav-link {
			text-align: left;
		}
		color: $color-yellow;
	}
	&.navbar-justify {
		justify-content: space-around;
		.nav-item{
			flex-grow: 1;
		}
		.nav-link {
			text-align: center;
		}
	}
	&.navbar-right {
		justify-content: flex-end;
		.nav-link {
			text-align: right;
		}
	}
	
	.nav-item.nav-item-haschild:not(.extended-child-section) {
		& >.nav-link::after,
		&.nav-item-haschild-up > .nav-link.active::after {
			content: "\00a0\00a0\25BC";
		}
		& >.nav-link.active::after,
		&.nav-item-haschild-down > .nav-link::after{
			content: "\00a0\00a0\25B2";
		}
	}
	
	.child-navbar{
		text-transform: none;
		z-index: $z-index-menu;
		position: absolute;
		left: 0;
		display: none;
		box-shadow: inset 0 1px 2px $color-black;
	}
	&.active {
		display: flex;
	}

	.extended-child-navbar {
		padding: 1em 0 2em;
		align-items: stretch;
		
		.child-section-title {
			padding: 1em 1.5em;
		}
		.nav-link {
			text-transform: none;
		}

		.child-navbar {
			display: flex;
			position: relative;
		}
	}

	.extended-child-section {
		flex: 1 1 auto;
		position: relative;

		& > a.nav-link {
			@include btn-variant($color-yellow, $color-clear, $color-yellow, $color-clear);
			@include linkUnderline(0);
			text-transform: none;
			text-align: center;
		}
	}
	
}

.navbar-toggle {
	&:before {
		content: "\2630";
	}
	font-weight: bold;
}

.navbar-mobile-container {
	position: relative;
	z-index: $z-index-mobile-menu;
}
.navbar.navbar-mobile {
	position: absolute;
	left: 0; right: 0;
	box-shadow: 1px 1px 2px $color-black;
	transition: all 0.3s ease-out;
	display: none;
	
	.extended-child-navbar {
		padding: 0;
	}
	.child-section-title {
		display: none;
	}
	.child-navbar{
		text-indent: 1em;
		position: relative;
		display: none;
		visibility: visible;
	}
	.child-navbar .child-navbar {
		text-indent: 2em;
	}
	.child-navbar.active {
		display: flex;
	}
	.extended-child-navbar {
		flex-direction: column;
	}

	.nav-item.nav-item-haschild:not(.extended-child-section), {
		& >.nav-link::after,{
			position: absolute;
			right: 1em;
		}
	}
}

.navbar-dark {
	&,
	.navbar {
		background-color: $default-secondary-bg-color;
	}

	.nav-link{
    	@include btn-variant($color-white, $default-secondary-bg-color, $color-yellow, $color-black);
	}
	.nav-item-home .nav-link{
    	@include btn-variant($color-yellow, $color-gray7, $color-yellow, $color-black);
	}

	.extended-child-navbar {
		.child-section-title {
			color: $color-yellow;
		}
		.extended-child-section + .extended-child-section::before {
			content: "";
			display: block;
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			width: 1px;
			background-color: $color-gray40;
			z-index: $z-index-mobile-menu;
		}
	}

	&.navbar-mobile {
		.nav-item + .nav-item {
			border-top: 1px solid $color-gray20;
		}
		.child-navbar .nav-link {
			@include btn-variant($color-gray13, $color-gray95, $color-yellow, $color-gray20);
		}
		.child-navbar .child-navbar .nav-link {
			@include btn-variant($color-gray13, $color-gray99, $color-yellow, $color-gray20);
		}
		.nav-link.active {
			box-shadow: 1px 1px 1px $color-black;
		}
	}
}

ul.navbar {
	padding: 0 !important;
}

@include media-xl() {
	.navbar-mobile,
	.navbar-mobile.active,
	.navbar-toggle  {
		display: none;
	}
	.navbar-mobile {
		overflow-x: hidden;
	}
}
@include media-lg() {
}
@include media-md() {
}
@include media-sm() {
	.navbar-mobilize{
		display: none;
	}
	.navbar-toggle {
		display: block;
	}
	.navbar-mobile,
	.navbar-mobile.active {
		display: flex;
	}
	
}
@include media-sm() {
	.navbar-mobile {
		flex-wrap: nowrap;
	}
}

