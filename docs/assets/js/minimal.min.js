"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();if(window.NDSU={},!NDSU.fullOverlayElement){var fullOverlay=document.createElement("div");fullOverlay.className="full-overlay",fullOverlay.setAttribute("role","presentation"),fullOverlay.addEventListener("click",function(e){0!==fullOverlay.offsetHeight&&NDSU.hideOverlay()}),NDSU.fullOverlayElement=fullOverlay,document.body.appendChild(NDSU.fullOverlayElement)}NDSU.showOverlay=function(){NDSU.fullOverlayElement.classList.add("active"),document.body.style.overflow="hidden"},NDSU.hideOverlay=function(){NDSU.fullOverlayElement.classList.remove("active"),document.body.style.overflow=""};var NavBaseClass=function(){function e(t){_classCallCheck(this,e),this.element=t}return _createClass(e,[{key:"setRole",value:function(e){this.element.setAttribute("role",e)}}]),e}(),Navbar=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i.parentNavItem=n;var a=e.classList.contains("navbar-vertical"),r=e.classList.contains("dropup"),s=e.classList.contains("extended-child-navbar");return i.options={autoCollapse:!0,direction:a?"vertical":"horizontal",dropup:r,extendedChildNavbar:s},i.childNavItems=i.getNavItems(),i._setRoles(),i}return _inherits(t,e),_createClass(t,[{key:"_setRoles",value:function(){this.parentNavItem?(this.setRole("menu"),this.parentNavItem.element.classList.add("nav-item-haschild"),this.isDropUp&&this.parentNavItem.element.classList.add("nav-item-haschild-up")):this.setRole("menubar")}},{key:"getNextNavItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Array.prototype.indexOf.call(this.childNavItems,e);if(-1!==n){var i=n+t;return i<this.childNavItems.length?this.childNavItems[i]:void 0}}},{key:"getPreviousNavItem",value:function(e){return this.getNextNavItem(e,-1)}},{key:"setOffset",value:function(){if(this.parentNavItem){var e=this.parentNavItem.element,t=window.getComputedStyle(e),n=e.offsetHeight;if(this.isDropUp?(n+=parseInt(t.marginTop),this.element.style.bottom=n+"px"):(n+=parseInt(t.marginBottom),this.element.style.top=n+"px"),this.isExtendedChildNavbar){var i=this.parentNavItem.parentNavbar;if(i&&i.element){e.offsetLeft;var a=i.element.offsetWidth;this.element.style.left=-e.offsetLeft+"px",this.element.style.minWidth=a+"px"}}else{var r=e.offsetWidth;this.element.style.minWidth=r+"px"}}}},{key:"getNavItems",value:function(){var e=this;return Array.from(this.element.children).filter(function(e){return e.classList.contains("nav-item")}).map(function(t){return new NavItem(t,e)})}},{key:"isVerticalNavbar",get:function(){return"vertical"===this.options.direction}},{key:"isDropUp",get:function(){return this.options.dropup}},{key:"isExtendedChildNavbar",get:function(){return this.options.extendedChildNavbar}}]),t}(NavBaseClass),MobileNavbar=function(e){function t(e,n,i,a){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.containerElement=i,r.toggleElement=a,r.openMenu=function(){return t._openMenu(r)},r.closeMenu=function(){return t._closeMenu(r)},r.clickEvent=function(e){return t._clickEvent(e,r)},r.setToggleElement(),r}return _inherits(t,e),_createClass(t,[{key:"getNavItems",value:function(){var e=this;return Array.from(this.element.children).filter(function(e){return e.classList.contains("nav-item")}).map(function(t){return new MobileNavItem(t,e)})}},{key:"setOffset",value:function(){if(this.containerElement){var e=this.containerElement,t=window.getComputedStyle(e),n=e.offsetHeight,i=window.innerHeight;this.element.style.maxHeight=i-n+"px",this.isDropUp?(n+=parseInt(t.marginTop),this.element.style.bottom=n+"px"):(n+=parseInt(t.marginBottom),this.element.style.top=n+"px")}}},{key:"setToggleElement",value:function(){this.toggleElement&&(this.toggleElement.setAttribute("aria-haspopup",!0),this.toggleElement.setAttribute("aria-expanded",!1),this.toggleElement.addEventListener("click",this.clickEvent),NDSU.fullOverlayElement.addEventListener("click",this.closeMenu))}}],[{key:"_clickEvent",value:function(e,t){e.preventDefault(),0===t.element.offsetHeight?t.openMenu():t.closeMenu(),e.stopPropagation()}},{key:"_openMenu",value:function(e){NDSU.showOverlay(),e.element.classList.add("active"),e.toggleElement.setAttribute("aria-expanded",!0),e.setOffset()}},{key:"_closeMenu",value:function(e){e.element.classList.remove("active"),e.toggleElement.setAttribute("aria-expanded",!1),NDSU.hideOverlay()}}]),t}(Navbar),NavItem=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.parentNavbar=n,i.linkElement=i._getLinkElement(),i.childNavbar=i._getChildNavbar(),i.closeTimeoutinst,i.focusInListener=function(e){i.parentNavbar.options.autoCollapse&&t._focusInEvent(e,i)},i.mouseInListener=function(e){return t._focusInEvent(e,i)},i.focusOutListener=function(e){return t._focusOutEvent(e,i)},i._setEventListeners(),i._setRoles(),i}return _inherits(t,e),_createClass(t,[{key:"_getChildNavbar",value:function(){var e=this.element.querySelector(".child-navbar");return e?new Navbar(e,this):void 0}},{key:"_getLinkElement",value:function(){var e=Array.prototype.filter.call(this.element.children,function(e){return e.classList.contains("nav-link")})[0];if(e)return e;var t=this.element.querySelector(".child-section-title");if(!t)return e;var n=t.innerText;return e=document.createElement("a"),e.href="#",e.innerText=n,e.className="nav-link",this.element.insertBefore(e,this.element.firstChild),e}},{key:"_setEventListeners",value:function(){var e=this;this.parentNavbar.isExtendedChildNavbar||(this.element.addEventListener("focusin",this.focusInListener),this.element.addEventListener("focusout",this.focusOutListener),this.element.addEventListener("mouseenter",this.mouseInListener),this.element.addEventListener("mouseleave",this.focusOutListener)),this.element.addEventListener("keydown",function(n){return t._keysListener(n,e)})}},{key:"_setRoles",value:function(){if(this.setRole("presentation"),this.linkElement&&this.linkElement.setAttribute("role","menuitem"),this.childNavbar&&this.linkElement){this.linkElement.setAttribute("aria-haspopup",!0);var e=this.linkElement.getAttribute("id");e||(e="parentLink_"+Math.random().toString(36).substr(2,10),this.linkElement.setAttribute("id",e)),this.childNavbar.element.setAttribute("aria-labelledby",e),this.linkElement.setAttribute("aria-expanded",!1)}}},{key:"focus",value:function(){this.linkElement?this.linkElement.focus():this.childNavbar&&this.childNavbar.childNavItems.length&&this.childNavbar.childNavItems[0].focus()}},{key:"open",value:function(){t._open(this)}},{key:"openChild",value:function(){t._open(this.childNavbar)}},{key:"close",value:function(){t._close(this)}},{key:"closeChild",value:function(){t._close(this.childNavbar)}},{key:"closeTimeout",get:function(){return 200}},{key:"previousNavItem",get:function(){return this.parentNavbar.getPreviousNavItem(this)||this.parentNavbar.parentNavItem}},{key:"nextNavItem",get:function(){return this.parentNavbar.getNextNavItem(this)}},{key:"parentNavItem",get:function(){return this.parentNavbar.parentNavItem}},{key:"firstChildNavItem",get:function(){if(this.childNavbar)return this.childNavbar.childNavItems[0]}},{key:"leftNeighbor",get:function(){var e=void 0;if(this.parentNavbar.isVerticalNavbar){if(this.parentNavItem){var t=this.parentNavItem;e=t.parentNavbar.getPreviousNavItem(t)||t}}else e=this.previousNavItem;return e}},{key:"rightNeighbor",get:function(){var e=void 0;if(this.parentNavbar.isVerticalNavbar){if(this.parentNavItem){var t=this.parentNavItem;e=t.parentNavbar.getNextNavItem(t)||t}}else e=this.nextNavItem;return e}},{key:"downNeighbor",get:function(){return this.parentNavbar.isVerticalNavbar?this.parentNavbar.isDropUp?this.nextNavItem||this._parentNavItem:this.nextNavItem:this.firstChildNavItem}},{key:"upNeighbor",get:function(){var e=void 0;return this.parentNavbar.isVerticalNavbar?e=this.parentNavbar.isDropUp?this.previousNavItem:this.previousNavItem||this._parentNavItem:this.parentNavbar.isExtendedChildNavbar&&!this.parentNavbar.isDropUp&&(e=this.parentNavItem),e}}],[{key:"_open",value:function(e){e&&e.element&&(e.setOffset(),e.element.classList.add("active"),e.parentNavItem&&e.parentNavItem.linkElement.setAttribute("aria-expanded",!0))}},{key:"_close",value:function(e){e&&e.element&&(e.element.classList.remove("active"),e.parentNavItem&&e.parentNavItem.linkElement.setAttribute("aria-expanded",!1))}},{key:"_keysListener",value:function(e,t){e.stopPropagation();var n=void 0;37===e.which?n=t.leftNeighbor:38===e.which?n=t.upNeighbor:39===e.which?n=t.rightNeighbor:40===e.which&&(n=t.downNeighbor),n&&(e.preventDefault(),n.focus())}},{key:"_focusInEvent",value:function(e,t){t.openChild(),t.closeTimeoutinst&&clearTimeout(t.closeTimeoutinst)}},{key:"_focusOutEvent",value:function(e,t){t.closeTimeoutinst=setTimeout(function(){t.closeChild()},t.closeTimeout)}}]),t}(NavBaseClass),MobileNavItem=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(e.classList.contains("nav-item-home")&&(i.linkElement.innerHTML=i.linkElement.innerText),i.childNavbar){var a=e.cloneNode();a.classList.remove("nav-item-haschild");var r=i.linkElement.cloneNode(!0);r.setAttribute("id",""),a.appendChild(r),i.childNavbar.element.insertBefore(a,i.childNavbar.element.firstChild)}return i}return _inherits(t,e),_createClass(t,[{key:"_getChildNavbar",value:function(){var e=this.element.querySelector(".child-navbar");return e?new MobileNavbar(e,this):void 0}},{key:"_getLinkElement",value:function(){var e=Array.prototype.filter.call(this.element.children,function(e){return e.classList.contains("nav-link")})[0];if(e)return e;var t=this.element.querySelector(".child-section-title");if(!t)return e;var n=t.innerText;return e=document.createElement("a"),e.href="#",e.innerText=n,e.className="nav-link",this.element.insertBefore(e,this.element.firstChild),e}},{key:"_setEventListeners",value:function(){var e=this;this.linkElement.addEventListener("click",function(t){var n=e.childNavbar;n&&(0===n.element.offsetHeight?(n.element.classList.add("active"),e.linkElement.classList.add("active"),e.linkElement.setAttribute("aria-expanded",!0)):(n.element.classList.remove("active"),e.linkElement.classList.remove("active"),e.linkElement.setAttribute("aria-expanded",!1)),t.preventDefault())})}}]),t}(NavItem);NDSU.mobileNavbars=Array.prototype.map.call(document.querySelectorAll(".navbar-mobile-container"),function(e){var t=e.querySelector(".navbar-mobile:not(.child-navbar)"),n=e.querySelector(".navbar-toggle");return t&&n&&n.classList.contains("navbar-toggle")?(Array.prototype.forEach.call(document.querySelectorAll(".navbar-mobilize:not(.child-navbar):not(.navbar-mobile)"),function(e){Array.from(e.children).filter(function(e){return e.classList.contains("nav-item")&&!e.classList.contains("nav-item-mobile-hide")}).forEach(function(e){t.appendChild(e.cloneNode(!0))})}),new MobileNavbar(t,null,e,n)):0}),NDSU.navbars=Array.prototype.map.call(document.querySelectorAll(".navbar:not(.child-navbar):not(.navbar-mobile)"),function(e){return new Navbar(e)});var StickyBar=function(){function e(t){var n=this;_classCallCheck(this,e),this.element=t,this.offsetTop=this.element.offsetTop,this.bufferElement=document.createElement("div"),this.bufferElement.classList.add("sticky-buffer"),["xl, lg","md","sm","xs"].forEach(function(e){var t="sticky-"+e;n.element.classList.contains(t)&&n.bufferElement.classList.add(t)}),this.element.parentElement.insertBefore(this.bufferElement,this.element),window.addEventListener("scroll",function(t){return e._scrollEvent(t,n)})}return _createClass(e,null,[{key:"_scrollEvent",value:function(e,t){var n=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;n>t.offsetTop?(t.element.classList.add("sticky-bar-on"),t.bufferElement.style.height=t.element.offsetHeight+"px"):n<=t.offsetTop-t.element.offsetHeight&&(t.element.classList.remove("sticky-bar-on"),t.bufferElement.style.height=0)}}]),e}();NDSU.stickyBars=Array.prototype.map.call(document.querySelectorAll(".sticky-bar"),function(e){return new StickyBar(e)});